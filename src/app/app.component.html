<div class="fixed-bg"></div>

<aside class="side-menu">
	<div class="logo-area">
		<img src="/assets/logo_transp.png" alt="Logo" class="logo-img" />
	</div>
		<nav>
				<button class="menu-btn" [class.active]="view==='add'" (click)="select('add')">
					<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 2a2 2 0 0 1 2 2v6h6a2 2 0 0 1 0 4h-6v6a2 2 0 0 1-4 0v-6H4a2 2 0 0 1 0-4h6V4a2 2 0 0 1 2-2z"/></svg>
					<span>Adicionar</span>
				</button>
				<button class="menu-btn" [class.active]="view==='table'" (click)="select('table')">
					<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>
					<span>Tabela</span>
				</button>
		</nav>


</aside>

<main class="main-content-with-menu">
	<h2 class="main-title" [hidden]="view !== 'add'">Adicionar Produto</h2>
	<div class="glass-card wide-list-card" [hidden]="view !== 'add'">
		<section class="inventory-section">
			<div class="form-card">
				<app-inventory-form [editItem]="currentEdit"></app-inventory-form>
			</div>
		</section>
	</div>

	<h2 class="main-title" [hidden]="view !== 'table'">Produtos</h2>
	<div class="glass-card wide-list-card" [hidden]="view !== 'table'">
		<section class="list-section">
			<div class="table-card">
				<app-inventory-list></app-inventory-list>
			</div>
		</section>
	</div>
</main>

<!-- Global toast host so notifications show even if a form unmounts -->
<div class="app-toast-host" *ngIf="notifications$ | async as notes">
	<div class="app-toast" *ngFor="let n of notes" [attr.data-type]="n.type">{{ n.message }}</div>
</div>
